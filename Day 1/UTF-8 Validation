class Solution:
    def validUtf8(self, data):
        c=0
        for x in data:
            if c:
                if x>>6!=2: return False
                c-=1
            else:
                if x>>7==0: c=0
                elif x>>5==6: c=1
                elif x>>4==14: c=2
                elif x>>3==30: c=3
                else: return False
        return c==0
