class Codec:
    def encode(self, root):
        if not root:
            return None
        b=TreeNode(root.val)
        if root.children:
            b.left=self.encode(root.children[0])
        cur=b.left
        for c in root.children[1:]:
            cur.right=self.encode(c)
            cur=cur.right
        return b

    def decode(self, root):
        if not root:
            return None
        n=Node(root.val,[])
        cur=root.left
        while cur:
            n.children.append(self.decode(cur))
            cur=cur.right
        return n
