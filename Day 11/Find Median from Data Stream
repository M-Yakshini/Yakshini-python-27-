import heapq
class MedianFinder:
    def __init__(self):
        self.a = []
        self.b = []
    def addNum(self, num):
        heapq.heappush(self.a, -num)
        heapq.heappush(self.b, -heapq.heappop(self.a))
        if len(self.b) > len(self.a):
            heapq.heappush(self.a, -heapq.heappop(self.b))
    def findMedian(self):
        return -self.a[0] if len(self.a) > len(self.b) else (-self.a[0] + self.b[0]) / 2
